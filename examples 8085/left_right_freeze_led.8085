	MVI B,01H		;B STORES THE TIME DELAY AND
	MVI C,F4H		;C STORES THE TIME DELAY
				;BC = 01F4H = 500 -> 0.5SEC DELAY
START: LDA 2000H		;READ INPUT
	CPI 01H		;IS MOVING LED ENABLED?
	JNZ START		;NO, CHECK AGAIN

LEFT:				;MOVE LED FROM RIGHT TO LEFT
	CMA
	STA 3000H
	CALL DELB		;DELB -> TIME DELAY ACCORDING TO B'S VALUE
	CMA
	MOV D,A
	LDA 2000H		;CHECK INPUT, MAY IT HAS CHANGED
	CPI 00H
	JZ ON_FROM_LEFT	;IF INPUT = 0 THEN FREEZE LED
RET_TO_LEFT:			;ELSE CONTINUE MOVING
	MOV A,D	
	RLC 
	JNC LEFT
	STA 3000H
	MVI A,40H
RIGHT:				;MOVE FROM LEFT TO RIGHT THEN SAME AS LEFT
	CMA
	STA 3000H
	CALL DELB
	CMA
	MOV D,A
	LDA 2000H
	CPI 00H
	JZ ON_FROM_RIGHT
RET_TO_RIGHT:
	MOV A,D
	RRC 
	JNC RIGHT
	MVI A,01H
	JMP LEFT

ON_FROM_RIGHT:		;FREEZE LED WHEN MOVING FROM LEFT TO RIGHT
	MOV A,D
	CMA 
	STA 3000H
	LDA 2000H		;CHECK INPUT, MAY IT HAS CHANGED
	CPI 01H
	JZ  RET_TO_RIGHT
	JMP ON_FROM_RIGHT

ON_FROM_LEFT:			;FREEZE LED WHEN MOVING FROM RIGHT TO LEFT
	MOV A,D
	CMA 
	STA 3000H
	LDA 2000H		;CHECK INPUT, MAY IT HAS CHANGED
	CPI 01H
	JZ  RET_TO_LEFT
	JMP ON_FROM_LEFT
END