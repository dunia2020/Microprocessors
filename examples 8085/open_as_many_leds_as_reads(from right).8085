START:
	CALL INIT			
READ-KEYBOARD:			
	CALL KIND			
	MOV B,A		
	CPI 09H			
	JNC READ-KEYBOARD			
	CPI 00H
	JZ ZEROS
	CPI 01H
	JZ 1-LED
	CPI 02H
	JZ 2-LED
	CPI 03H
	JZ 3-LED
	CPI 04H
	JZ 4-LED
	CPI 05H
	JZ 5-LED
	CPI 06H
	JZ 6-LED
	CPI 07H
	JZ 7-LED
	CPI 08H
	JZ 8-LED
ZEROS:	
	MVI A,FFH
	STA 3000H	
	JMP READ-SWITCHES
8-LED:
	MVI A,00H
	STA 3000H	
	JMP READ-SWITCHES
7-LED:
	MVI A,7FH
CMA
	STA 3000H	
	JMP READ-SWITCHES
6-LED:
	MVI A,3FH
CMA
	STA 3000H	
	JMP READ-SWITCHES
5-LED:
	MVI A,1FH
CMA
	STA 3000H	
	JMP READ-SWITCHES
4-LED:
	MVI A,0FH
CMA
	STA 3000H	
	JMP READ-SWITCHES
3-LED:
	MVI A,07H
CMA
	STA 3000H	
	JMP READ-SWITCHES
2-LED:
	MVI A,03H
CMA
	STA 3000H	
	JMP READ-SWITCHES
1-LED:
	MVI A,01H
CMA
	STA 3000H	
	JMP READ-SWITCHES
READ-SWITCHES:
	LDA 2000H
	ANI 80H
	CPI 80H
	JNZ READ-KEYBOARD
	CALL KIND
	CPI 08H
	JNC READ-SWITCHES
	ADD B
	CPI 0AH
	JNC GR10
LS10:
	MOV C,A
	MVI A,00H
	JMP PRINT
GR10:	
	SBI 0AH
	MOV C,A
	MVI A,01H
PRINT:
	CALL INIT
	STA 0B05H
	MOV A,C
	STA 0B04H
	CALL PRINT-7SEG
	
	JMP READ-SWITCHES

PRINT-7SEG:
	PUSH PSW
	PUSH B
	PUSH D
	PUSH H
	LXI D,0B00H
	CALL STDM
	CALL DCD
	POP H
	POP D
	POP B
	POP PSW
	RET
INIT:
	PUSH PSW
	MVI A,10H
	STA 0B00H
	STA 0B01H
	STA 0B02H
	STA 0B03H
	STA 0B04H
	STA 0B05H
	POP PSW
	CALL PRINT-7SEG
	RET

END:
	END